<div class="campaign-tab-content ad-tab-content" ng-controller="AdminCampaignsCtrl" ng-cloak>
  <div class="sticky-bar ui sticky" sticky>
    <div class="sticky-action-bar ui two column stackable page grid" ng-hide="showManualTransactionFromCamp">
      <div class="left-col left aligned ten wide column" ng-hide="isTransaction" ng-if="!isCampaignRevisionsView">
        <div class="action-btn ui blue labeled icon top left pointing button dropdown">
          {{'tab_campaign_actions'|translate}}
          <i class="settings icon"></i>
          <div class="menu">
            <div class="item" ng-click="changeCampaignsStatus(2)" translate> tab_campaign_approve_campaign </div>
            <div class="item" ng-click="changeCampaignsStatus(3)" translate> tab_campaign_dissapprove_campaign </div>
            <div class="item" ng-click="endCampaignTest()" translate> tab_campaign_end_campaign_test </div>
            <div class="item" ng-click="endCampaign()" translate> tab_campaign_end_campaign </div>
            <div class="item" ng-click="deleteItems()" translate> tab_campaign_delete_campaign </div>
            <div class="item" ng-click="featureCampaigns(true)" translate> tab_campaign_feature_campaign </div>
            <div class="item" ng-click="featureCampaigns(false)" translate> tab_campaign_unfeature_campaign </div>
            <div class="item" ng-click="hideCampaigns(true)" translate> tab_campaign_hide_campaign </div>
            <div class="item" ng-click="hideCampaigns(false)" translate> tab_campaign_unhide_campaign </div>
            <div class="item" ng-click="changeMultipleCampaignsStatus()" ng-if="progressStatusEnabled()" translate> tab_campaign_change_progress_status </div>
          </div>
        </div>
        <div class="action-btn ui selection dropdown campaign-category-filter">
          <input type="hidden" name="campaign-category">
          <div class="default text" translate> tab_campaign_category </div>
          <i class="dropdown icon"></i>
          <div class="menu">
            <div class="item" ng-click="updateFiltersCampaignCategory('')" translate> tab_campaign_category_all </div>
            <div class="item" data-value="{{category.id}}" ng-repeat="category in categories | orderBy:'display_priority'" ng-click="updateFiltersCampaignCategory(category)">{{category.name}}</div>
          </div>
        </div>
        <!-- DROPDOWN END -->
        <div class="action-btn ui selection dropdown campaign-status-filter" id="campaign-status-filter">
          <input type="hidden" name="campaign-status">
          <div class="default text" translate> tab_campaign_status </div>
          <i class="dropdown icon"></i>
          <div class="menu">
            <div class="item" ng-click="updateFiltersCampaignStatus(status)" translate>tab_campaign_status_all </div>
            <div class="item" data-value="{{status.id}}" ng-repeat="status in campaignStatus" ng-click="updateFiltersCampaignStatus(status)">{{status.name | translate}}</div>
          </div>
        </div>
        <!-- DROPDOWN END-->
        <div class="action-btn ui selection dropdown campaign-type-filter">
          <input type="hidden" name="campaign-type">
          <div class="default text" translate> tab_campaign_type </div>
          <i class="dropdown icon"></i>
          <div class="menu">
            <div class="item" ng-click="updateFiltersCampaignType(0)" translate> tab_campaign_type_all </div>
            <div class="item" ng-click="updateFiltersCampaignType(1)" translate> tab_campaign_type_hidden </div>
          </div>
        </div>
        <!-- DROPDOWN END-->
      </div>
      <!-- COLUMN END -->
      <div class="left-col left aligned ten wide column" ng-show="false" ng-if="enableCampaignRevisions && !isCampaignRevisionsView">
        <div class="action-btn ui blue labeled icon top left pointing button dropdown">
          <span translate="tab_campaign_actions"></span>
          <i class="settings icon"></i>
          <div class="menu" ng-show="isTransaction">
            <div class="item" ng-click="deleteItems()" translate="tab_campaign_action_delete_transactions"></div>
          </div>
        </div>
      </div>
      <div class="right aligned floated six wide column" ng-hide="isTransaction" ng-if="!isCampaignRevisionsView">
        <div class="ui right labeled input campaign-search-input">
          <input type="text" keyboard-poster post-function="searchCampaignBy" name="name" ng-attr-placeholder=" {{'tab_campaign_search_by' | translate}} " id="searchname">
          <div class="ui dropdown label" tabindex="0">
            <div class="text" translate="">tab_campaign_search_by_campaign_name</div>
            <i class="dropdown icon"></i>
            <div class="menu" tabindex="-1">
              <div class="item" ng-click="searchType('manager')" translate>tab_campaign_search_by_user_id</div>
              <div class="item" ng-click="searchType('name')" translate>tab_campaign_search_by_campaign_name</div>
            </div>
          </div>
        </div>

      </div>
      <!-- COLUMN END -->
      <div class="ui sixteen wide column">
        <a href="start">
          <div class="ui green button" translate="tab_campaign_start_campaign"></div>
        </a>
        <div class="ui button" translate="tab_campaign_revision_view_action" ng-if="enableCampaignRevisions && !isCampaignRevisionsView" ng-click="toggleCampaignRevisionsView()"></div>
        <div class="ui button" translate="tab_campaigns_view_action" ng-if="enableCampaignRevisions && isCampaignRevisionsView" ng-click="toggleCampaignRevisionsView()"></div>
      </div>
    </div>
  </div>

  <!-- Change custom modal start -->
  <div class="ui small modal change-status-modal">
    <i class="close icon"></i>
    <div class="header">
      <h3 class="ui header" translate>tab_campaign_change_progress_status</h3>
    </div>
    <div class="content">
      <p translate> tab_campaign_change_progress_status_note </p>
      <div class="ui fluid selection dropdown state-current">
          <div class="text" id="duration_dtext" translate>tab_campaign_change_progress_status_select</div><i class="dropdown icon"></i>
          <input type="hidden" name="state">
          <div class="menu">
            <div ng-repeat="state in portal_settings.site_campaign_state_settings" ng-click="stateSelected($index)" class="item">{{state.title | translate}}</div>
          </div>
      </div>
    </div>
    <!-- CONTENT END -->
    <div class="actions">
      <div class="ui positive button" translate>
        tab_campaign_change_progress_status_ok
      </div>
      <div class="ui negative button" translate>
        tab_campaign_change_progress_status_cancel
      </div>
    </div>
  </div>
  <!-- Change custom modal end -->


  <!-- Featured campaigns -->
  <div id="campaign-tab-content-container" ng-if="enableCampaignRevisions && !isCampaignRevisionsView" ng-hide="showManualTransactionFromCamp">
    <div class="campaign-table ui page grid" ng-if="!details">
      <div class="ui column" id="admin-campaign-table">
        <h1 translate>tab_campaign_featured_title</h1>
        <div class="campaign-buffer-section">
          <div class="campaign-buffer-segment ui basic segment">
            <div class="campaign-buffer-desc">
              <div class="draggable-placement" translate>tab_campaign_drag_message</div>
            </div>
          </div>
          <div class="campaign-buffer-segment campaign-buffer-loader-wrap ui basic segment" ng-if="!isFeaturedCampaignsLoaded">
            <div class="campaign-buffer-loader ui active inverted dimmer">
              <div class="ui text loader" translate="admin_loading"></div>
            </div>
          </div>
          <div class="campaign-buffer-featured-campaigns campaign-buffer-segment ui basic segment" ng-if="campaign_buffer.length > 0">
            <div class="campaign-sortable campaign-buffer campaign-buffer-block">
              <table class="admin-table buffer-table ui table compact">
                <thead>
                  <tr>
                    <th>
                      <div class="ui checkbox campaign-select-all" ng-click="checkall($event, '.buffer-table .t-check-box')">
                        <input type="checkbox">
                        <label></label>
                      </div>
                    </th>
                    <th translate>tab_campaign_campaign_feature </th>
                    <th> {{'tab_campaign_campaign_manual_transaction'|translate}}</th>
                    <th> {{'tab_campaign_campaign_name'|translate}}</th>
                    <th translate>tab_campaign_campaign_creator </th>
                    <th ng-if="portal_settings.site_campaign_country_funding_step"> {{'tab_campaign_campaign_country'|translate}} </th>
                    <th>{{'tab_campaign_campaign_start_date'| translate}}</th>
                    <th> {{'tab_campaign_campaign_end'|translate}}</th>
                    <th class="action-column" translate> tab_campaign_campaign_action </th>
                    <th class="status-column"> {{'tab_campaign_campaign_status'|translate}}</th>
                    <th> {{'tab_campaign_campaign_manual_transaction'|translate}}</th>
                    <th></th>
                  </tr>
                  <!-- tr end -->
                </thead>
                <!-- thead end -->
                <tbody ui-sortable="campaignSortOptions" ng-model="campaign_buffer">
                  <tr class="campaign-sortable-item feature-item campaign-buffer-item" ng-repeat="campaign in campaign_buffer" ng-show="campaign.entry_id">
                    <td class="t-check-box">
                      <div class="ui checkbox">
                        <input type="checkbox" name="select-user">
                        <label></label>
                      </div>
                    </td>
                    <td class="toggle-feature-icon" ng-if="!campaign.featured" ng-click="setFeatured(campaign, true)">
                      <div class="feat-icon">
                        <i class="blue empty star icon" title="Feature Campaign"></i>
                      </div>
                    </td>
                    <td class="toggle-feature-icon" ng-if="campaign.featured" ng-click="setFeatured(campaign, false)">
                      <div class="feat-icon">
                        <i class="blue star icon" title="Un-Feature Campaign"></i> <em ng-if="campaign.settings.featured_star_hide" translate>tab_campaign_campaign_featured_star_hidden</em>
                      </div>
                    </td>
                    <td> {{campaign.id}} </td>
                    <td class="campaign-name-popup">
                      <a title="{{campaign.name}}" ng-href="{{campaign.uri_paths[0].path}}" target="_blank">{{campaign.name}}</a>
                    </td>
                    <td class="t-campaign-name">
                      {{campaign.managers[0].first_name}} {{campaign.managers[0].last_name}}
                    </td>
                    <td ng-if="portal_settings.site_campaign_country_funding_step" class="t-campaign-name">
                      {{campaign.settings.country.name}}
                    </td>
                    <td id="col_date" ng-hide="isISODate">{{campaign.created | dateconv }}</td>
                    <td id="col_date" ng-show="isISODate">{{campaign.created | formatDate:"YYYY/MM/DD" }}</td>
                    <td class="">
                      <div ng-init="getTime(campaign)">{{campaign.timeStatNum}} {{campaign.timeStatText | translate}}</div>
                      <!-- <div am-time-ago="campaign.ends" ng-if="!campaign.hidden"></div> -->

                      <div class="ui label blue" ng-if="campaign.hidden" translate> tab_campaign_campaign_hidden </div>
                    </td>
                    <td class="action-column">
                      <div class="ui selection fluid dropdown action-dropdown">
                        {{'tab_campaign_campaign_select'| translate}}
                        <i class="dropdown icon"></i>
                        <div class="menu">
                          <div class="item" ng-click="editCampaign($event,campaign)"> {{'tab_campaign_campaign_edit'|translate}}</div>
                          <div class="item" ng-if="campaignManagerHasEndDate(campaign)" ng-click="openExtendCampaignModal(campaign)"> {{'tab_campaign_extend_campaign_date_button'|translate}} </div>
                          <div class="item" ng-if="campaign.entry_status_id == 10 || campaign.entry_status_id == 12" ng-click="reviewCampaign(campaign,$event)" translate> tab_campaign_campaign_review </div>
                        </div>
                      </div>
                    </td>
                    <td class="campaign-status-select">
                      <div class="ui selection fluid dropdown" ng-model="campaign.entry_status_id">
                        <input type="hidden" name="campaign_status">
                        <div class="default text">{{'campaign.entry_status'| translate}}</div>
                        <i class="dropdown icon"></i>
                        <div class="menu">
                          <div ng-click="updateCampaignStatus(campaign,status)" class="item" title="{{status.name}}" ng-repeat="status in campaignStatus" data-value="{{status.entry_status_id}}">{{status.name |translate}}</div>
                        </div>
                      </div>
                    </td>
                    <td class="details-column">
                      <div type="button" class="ui green button transaction_button" ng-click="showdetail(campaign.entry_id,campaign.name, campaign.entry_status, campaign.currencies, campaign.total_backers, campaign.backer_offset)" ng-class="{'disabled':campaign.funded_amount<=0}">{{'tab_campaign_transaction_detail'| translate}}</div>
                    </td>
                    <td>
                      <button class="ui icon red button add_manual_transaction" ng-hide='campaign.entry_status != "Approved / Running"' ng-click="addManual(campaign.entry_id, campaign.name, campaign.entry_status); setSelectedCampaign(campaign.entry_id)">
                        <i class="plus icon"></i>
                      </button>
                    </td>
                  </tr>
                  <!-- tr end -->
                </tbody>
                <!-- tbody end -->
              </table>
              <!-- admin-table end -->
            </div>
          </div>
        </div>

        <div class="setting-guide">
          <div class="ui blue message">
            <div class="content">
              <div ng-if="!isFeaturedCampaignLimitIncreased" translate>tab_campaign_info_desc</div>
              <div ng-if="isFeaturedCampaignLimitIncreased" translate>tab_campaign_info_desc_increased_featured_limit_100</div>
            </div>
          </div>
        </div>
        <div ng-include src="'views/templates/partials/no-data-available.html'" ng-show="campaigns.length==0"></div>
        <!-- ================= no data available message section -->
        <!-- Campaign list -->
        <h1 translate="">tab_campaign_all_title</h1>
        <table class="admin-table campaigns-table ui compact table">
          <thead ng-show="campaigns.length>0">
            <tr>
              <th>
                <div class="ui checkbox campaign-select-all" ng-click="checkall($event, '.campaigns-table .t-check-box')">
                  <input type="checkbox">
                  <label></label>
                </div>
              </th>
              <th translate>tab_campaign_campaign_feature </th>
              <th ng-click="changeOrderId()" id="hoverbtn">
                <div class="th-action th-action-filter">
                  {{'tab_campaign_campaign_id'|translate}} <span ng-show="idshow"><span ng-hide="!orderbtnid"><i class="caret up  icon"></i></span><span ng-hide="orderbtnid"><i class="caret down  icon" ></i> </span></span>
                </div>
              </th>
              <th ng-click="changeOrderName()" id="hoverbtn">
                <div class="th-action th-action-filter">
                {{'tab_campaign_campaign_name'|translate}} 
                <span ng-show="nameshow">
                  <span ng-hide="!namebtn"><i class="caret up icon"></i></span>
                  <span ng-hide="namebtn"><i class="caret down icon" ></i></span>
                </span>
                </div>
              </th>
              <th translate>tab_campaign_campaign_creator </th>
              <th ng-if="portal_settings.site_campaign_country_funding_step"> {{'tab_campaign_campaign_country'|translate}} </th>
              <th ng-click="changeOrderStart()" id="hoverbtn">
                <div class="th-action th-action-filter">
                {{'tab_campaign_campaign_start_date'| translate}} <span ng-show="startshow"><span ng-hide="!orderbtn"><i class="caret up icon"></i></span><span ng-hide="orderbtn"><i class="caret down  icon" ></i> </span></span>
              </div>
              </th>
              <th ng-click="changeOrderEnd()" id="hoverbtn">
                <div class="th-action th-action-filter">
                {{'tab_campaign_campaign_end'|translate}} <span ng-show="endshow"><span ng-hide="!orderbtnend"><i class="caret up icon"></i></span><span ng-hide="orderbtnend"><i class="caret down  icon" ></i> </span> </span>
                </div>
              </th>
              <th class="action-column" translate> tab_campaign_campaign_action </th>
              <th class="status-column"> {{'tab_campaign_campaign_status'|translate}}</th>
              <th>
                <div class="ui checkbox order-by-priority" ng-click="sortByPriority()"><input type="checkbox"><label>{{'Order_by_Display_Priority' | translate }}</label></div>
              </th>
              <th> {{'tab_campaign_campaign_manual_transaction'|translate}}</th>
            </tr>
            <!-- tr end -->
          </thead>
          <!-- thead end -->
          <tbody class="campaign-list campaign-sortable" ng-model="campaigns">
            <tr ng-repeat="campaign in campaigns | limitTo:sortOrFiltersCampaign.pagination.entriesperpage" class="campaign{{campaign.entry_id}}">
              <td class="t-check-box">
                <div class="ui checkbox">
                  <input type="checkbox" name="select-user">
                  <label></label>
                </div>
              </td>
              <td class="toggle-feature-icon" ng-if="!campaign.featured" ng-click="setFeatured(campaign, true)">
                <div class="feat-icon">
                  <i class="blue empty star icon" title="Feature Campaign"></i>
                </div>
              </td>
              <td class="toggle-feature-icon" ng-if="campaign.featured" ng-click="setFeatured(campaign, false)">
                <div class="feat-icon">
                  <i class="blue star icon" title="Un-Feature Campaign"></i> <em ng-if="campaign.settings.featured_star_hide" translate>tab_campaign_campaign_featured_star_hidden</em>
                </div>
              </td>
              <td class="t-campaign-id">
                <div>{{campaign.id}}</div>
              </td>
              <td class="t-campaign-name">
                <a title="{{campaign.name}}" ng-href="{{campaign.uri_paths[0].path}}" ng-if="campaign.name.length > 15" target="_blank">{{campaign.name | limitTo: 15}}..</a>
                <a title="{{campaign.name}}" ng-href="{{campaign.uri_paths[0].path}}" ng-if="campaign.name.length <= 15" target="_blank">{{campaign.name | limitTo: 15}}</a>
              </td>
              <td class="t-campaign-name">
                {{campaign.managers[0].first_name}} {{campaign.managers[0].last_name}}
              </td>
              <td ng-if="portal_settings.site_campaign_country_funding_step" class="t-campaign-name">
                {{campaign.settings.country.name}}
              </td>
              <td id="col_date" ng-hide="isISODate">{{campaign.created | dateconv }}</td>
              <td id="col_date" ng-show="isISODate">{{campaign.created | formatDate:"YYYY/MM/DD" }}</td>
              <td class="">

                <div ng-init="getTime(campaign)">{{campaign.timeStatNum}} {{campaign.timeStatText | translate}}</div>
                <!-- <div am-time-ago="campaign.ends" ng-if="!campaign.hidden"></div> -->

                <div class="ui label blue" ng-if="campaign.hidden" translate> tab_campaign_campaign_hidden </div>
              </td>
              <td class="action-column">
                <div class="ui selection fluid dropdown action-dropdown">
                  {{'tab_campaign_campaign_select'| translate}}
                  <i class="dropdown icon"></i>
                  <div class="menu">
                    <div class="item" ng-click="editCampaign($event,campaign)"> {{'tab_campaign_campaign_edit'|translate}} </div>
                    <div class="item" ng-if="campaign.entry_status_id == 10 || campaign.entry_status_id == 12" ng-click="reviewCampaign(campaign,$event)" translate>tab_campaign_campaign_review </div>
                  </div>
                </div>
              </td>
              <td class="campaign-status-select">
                <div class="ui selection fluid dropdown" ng-model="campaign.entry_status_id">
                  <input type="hidden" name="campaign_status">
                  <div class="default text campaign-status" translate> tab_campaign_campaign_status</div>
                  <i class="dropdown icon"></i>
                  <div class="menu">
                    <div ng-click="updateCampaignStatus(campaign,status)" class="item" title="{{status.name}}" ng-repeat="status in campaignStatus" data-value="{{status.entry_status_id}}">{{status.name | translate}}</div>
                  </div>
                </div>
              </td>
              <td class="details-column">
                <div type="button" class="ui green button transaction_button" ng-click="showdetail(campaign.entry_id,campaign.name, campaign.entry_status, campaign.currencies)" ng-class="{'disabled':campaign.funded_amount<=0}">{{'tab_campaign_transaction_detail'| translate}}</div>
              </td>
              <td>
                <button class="ui icon red button add_manual_transaction" ng-hide='campaign.entry_status != "Approved / Running"' ng-click="addManual(campaign.entry_id, campaign.name, campaign.entry_status); setSelectedCampaign(campaign.entry_id)">
                  <i class="plus icon"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <div>
          <button type="button" ng-csv="campaigndata" filename="campaign.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export'|translate}}</button>
          <button type="button" ng-csv="createCampaignCSV()" lazy-load="true" filename="allcampaigns.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export_all'|translate}}</button>
          <button type="button" ng-csv="createCampaignCompleteCSV()" lazy-load="true" filename="allcampaignscomplete.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export_all_complete'|translate}}</button>
          <div id="searchbox">
            <label> {{'tab_campaign_items_perpage' | translate}} </label>&nbsp;
            <div class="ui selection dropdown" id="searchbtn">
              <input name="gender" type="hidden" ng-value="sortOrFiltersCampaign.page_entries">
              <div class="default text" id="resultValue"> 10 </div>
              <i class="dropdown icon"></i>
              <div class="menu">
                <div class="item" data-value="10" ng-click="customEntryPerPage(10)">10</div>
                <div class="item" data-value="50" ng-click="customEntryPerPage(50)">50</div>
                <div class="item" data-value="100" ng-click="customEntryPerPage(100)">100</div>
              </div>
            </div>
            <label class="per-page-label" translate>tab_campaign_results </label>
          </div>
        </div>
        <div class="ui center aligned basic segment pagination-block">
          <div semantic-pagination ng-model="sortOrFiltersCampaign.page" total-pages="sortOrFiltersCampaign.pagination.numpages" update-function="updateCampaignListing()"></div>
        </div>

      </div>
    </div>
    <!-- CAMPAIGN TABLE END -->
    <div class="ui page one column grid transaction-table" ng-if="details" ng-hide="showManualTransactionFromTrans">
      <div class="column">
        <div class="user-edit-header ">
          <div class="column">
            <div class="action-btn ui icon labeled black button" ng-click="goBackUser()">
              <i class="left angle icon"></i>
              <span translate>tab_campaign_back</span>
            </div>
            <div class="ui button red labeled" ng-click="deleteTransaction()">
              <span translate="tab_campaign_transaction_delete"></span>
            </div>
            <div class="backer-offset-button">
              <div class="ui button blue labeled" ng-click="updateBackerOffset()">
                <span translate>tab_campaign_backer_button</span>
              </div>
            </div>
          </div>
        </div>
        <h3 class="ui header"> {{'tab_campaign_transactiontext'|translate}} {{campaign_name}} </h3>
        <p>
          <div class="ui grid">
            <div class="six wide column">
              <i class="circular icon hide" data-content="Anonymous Contribution" data-variation="inverted"></i> {{'tab_campaign_transaction_details_anon' | translate}}
            </div>
            <div class="six wide column">
              <i class="circular icon unhide" data-content="Partial Anonymous Contribution" data-variation="inverted"></i> {{'tab_campaign_transaction_details_partially_anon' | translate}}
            </div>
          </div>
        </p>
        <div class="ui inverted divider"></div>

        <table class="ui basic small table transactions-table" ng-show="transaction_detail[0].id">
          <thead>
            <tr>
              <th>
                <div class="ui checkbox transaction-select-all" ng-click="checkall($event, '.transaction-table .t-check-box')">
                  <input type="checkbox">
                  <label></label>
                </div>
              </th>
              <th translate> tab_campaign_transaction_details_transaction_id</th>
              <th translate> tab_campaign_transaction_details_reward </th>
              <th translate> tab_campaign_transaction_details_amount </th>
              <th translate ng-if="tippingOptions.toggle"> tab_campaign_transaction_details_tip_amount </th>
              <th translate>tab_campaign_transaction_details_contributors</th>
              <th translate> tab_campaign_transaction_details_contributors_email</th>
              <th translate> tab_campaign_transaction_details_card_number</th>
              <th translate>tab_campaign_transaction_details_date</th>
              <th ng-show="payment_gateway==1"></th>
              <th ng-show="payment_gateway==1" translate> tab_campaign_transaction_details_status </th>
            </tr>
          </thead>
          <tbody class="transactions-table-body">
            <tr ng-repeat="trans in transaction_detail" ng-if="trans.backer.length">
              <td class="t-check-box">
                <div class="ui checkbox">
                  <input type="checkbox" name="select-user">
                  <label></label>
                </div>
              </td>
              <td ng-show="payment_gateway==1">{{trans.stripe_transaction_id}}</td>
              <td ng-show="payment_gateway==2">{{trans.widgetmakr_transaction_id}}</td>
              <td><span ng-if="trans.backer[0].pledge_level.length">
                <span title="{{trans.backer[0].pledge_level[0].name}}">
                  {{(trans.backer[0].pledge_level[0].name).slice(0,30)}}</span>
                <span ng-show="(trans.backer[0].pledge_level[0].name).length>30">&nbsp;...</span>
                </span>
                <span ng-hide="trans.backer[0].pledge_level.length" translate> tab_campaign_transaction_details_na</span>
                <i ng-if="trans.backer[0].anonymous_contribution" class="circular icon hide" data-content="Anonymous Contribution" data-variation="inverted"></i>
                <i ng-if="trans.backer[0].anonymous_contribution_partial" class="circular icon unhide" data-content="Anonymous Contribution" data-variation="inverted"></i>
              </td>

              <td class="contribute-amount-td">
                <div class="value-editable">
                  <span ng-bind-html="trans.backer[0].amount | formatCurrency:currency[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option" ng-if="!trans.editing"></span>
                  <div class="edit-button" ng-if="!trans.editing" ng-click="editTransaction(trans)">
                    {{'tab_campaign_edit_button' | translate}}
                  </div>
                </div>
                <div class="ui action input" ng-if="trans.editing">
                  <input type="text" ng-model="trans.backer[0].amount" />
                  <div class="ui icon tiny button" ng-if="trans.editing" ng-click="editTransaction(trans)">
                    <i class="ui icon checkmark"></i>
                  </div>
                </div>
              </td>
              <td ng-if="tippingOptions.toggle" class="tipping-amount-td">
                <div class="value-editable">
                  <span ng-if="trans.backer[0].amount_tip && !trans.tipEditing" ng-bind-html="trans.backer[0].amount_tip | formatCurrency:currency[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span>
                  <span ng-if="!trans.backer[0].amount_tip && !trans.tipEditing" ng-bind-html="0 | formatCurrency:currency[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span>
                  <div class="edit-button" ng-if="!trans.tipEditing" ng-click="editTipTransaction(trans)">
                    {{'tab_campaign_edit_button' | translate}}
                  </div>
                </div>
                <div class="ui action input" ng-if="trans.tipEditing">
                  <input type="text" ng-model="trans.backer[0].amount_tip" />
                  <div class="ui green tiny icon button" ng-if="trans.tipEditing" ng-click="editTipTransaction(trans)">
                    <i class="ui icon checkmark"></i>
                  </div>
                </div>
              </td>

              <td>
                <span ng-if="trans.backer.length &&  trans.backer[0].person.length" title="{{trans.backer[0].person[0].first_name +''+ trans.backer[0].person[0].last_name}}">{{(trans.backer[0].person[0].first_name +" "+ trans.backer[0].person[0].last_name).slice(0,18)}} </span>
                <span ng-show="(trans.backer[0].person[0].first_name + trans.backer[0].person[0].last_name).length>18">&nbsp;...</span>

                <span ng-if="!trans.backer[0].person.length && trans.backer.length">{{'transaction_details_backer_deleted'| translate}}</span>
              </td>
              <td>
                <span title={{trans.backer[0].person[0].email}}>{{(trans.backer[0].person[0].email).slice(0,25)}}</span>
                <span ng-show="(trans.backer[0].person[0].email).length>25">&nbsp;...</span>
              </td>
              <td ng-show="trans.card[0]">**** **** **** {{trans.card[0].last4}}</td>
              <td ng-show="trans.reference_no"> {{trans.reference_no}} </td>
              <td ng-show="!trans.card[0] && !trans.reference_no" translate="tab_campaign_info_not_available"></td>

              <td id="col_date" ng-hide="isISODate">{{trans.created | dateconv }}</td>
              <td id="col_date" ng-show="isISODate">{{trans.created | formatDate:"YYYY/MM/DD" }}</td>
              <td ng-show="payment_gateway==1">
                <span class="ui small green button" id="addressbtn" ng-class="{'disabled':!trans.backer[0].person[0].person_shipping_address && !trans.backer[0].person[0].person_shipping_phone_number}" ng-click="showContact($index)" translate>tab_campaign_view_contact</span>
              </td>
              <td class="status-col" ng-show="payment_gateway==1" ng-class="{'error':trans.stripe_transaction_status_id==4, 'warning':trans.backer[0].disabled,'positive':trans.stripe_transaction_status_id==3}">
                <span title="{{trans.stripe_transaction_status}}" ng-show="!trans.backer[0].disabled && trans.card[0].last4" translate>{{(trans.stripe_transaction_status).slice(0,31)}}</span><span ng-show="(trans.stripe_transaction_status).length>31 && !trans.backer[0].disabled">&nbsp;...</span>
                <span ng-show="trans.backer[0].disabled">{{'tab_campaign_details_withdrawn' | translate }}</span>
                <span ng-show="!trans.card[0].last4 && !trans.backer[0].disabled" translate>tab_campaign_Manual_Transaction</span>
              </td>
            </tr>
          </tbody>
        </table>
        <button type="button" ng-csv="createTransactionCSV(cindex)" lazy-load="true" filename="transactionDetail.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export'|translate}}</button>
        <button type="button" class="ui green button" id="csvbtn" ng-show="approvedCamp" ng-click="addManual()">{{'tab_campaign_details_add_manual'|translate}}</button>
      </div>
      <div class="center aligned column">
        <div semantic-pagination ng-model="transaction_pagination.page" total-pages="transaction_pagination.numpages" update-function="getTransactions(cindex)"></div>
      </div>
    </div>
  </div>

  <!-- TOGGLE OFF REVISION START -->
  <div id="campaign-tab-content-container" ng-if="!enableCampaignRevisions" ng-hide="showManualTransactionFromCamp">
    <div class="campaign-table ui page grid" ng-if="!details">
      <div class="ui column" id="admin-campaign-table">
        <h1 translate>tab_campaign_featured_title</h1>
        <div class="campaign-buffer-section ui basic segment">
          <div class="campaign-buffer-desc">
            <div class="draggable-placement" translate>tab_campaign_drag_message</div>
          </div>
          <div class="campaign-sortable campaign-buffer campaign-buffer-block">
            <table class="admin-table buffer-table ui table compact">
              <thead ng-show="campaign_buffer.length>0">
                <tr>
                  <th>
                    <div class="ui checkbox campaign-select-all" ng-click="checkall($event, '.buffer-table .t-check-box')">
                      <input type="checkbox">
                      <label></label>
                    </div>
                  </th>
                  <th translate>tab_campaign_campaign_feature </th>
                  <th> {{'tab_campaign_campaign_manual_transaction'|translate}}</th>
                  <th> {{'tab_campaign_campaign_name'|translate}}</th>
                  <th translate>tab_campaign_campaign_creator </th>
                  <th ng-if="portal_settings.site_campaign_country_funding_step"> {{'tab_campaign_campaign_country'|translate}} </th>
                  <th>{{'tab_campaign_campaign_start_date'| translate}}</th>
                  <th> {{'tab_campaign_campaign_end'|translate}}</th>
                  <th class="action-column" translate> tab_campaign_campaign_action </th>
                  <th class="status-column"> {{'tab_campaign_campaign_status'|translate}}</th>
                  <th> {{'tab_campaign_campaign_manual_transaction'|translate}}</th>
                  <th></th>
                </tr>
                <!-- tr end -->
              </thead>
              <!-- thead end -->
              <tbody ui-sortable="campaignSortOptions" ng-model="campaign_buffer">
                <tr class="campaign-sortable-item feature-item campaign-buffer-item" ng-repeat="campaign in campaign_buffer | limitTo:sortOrFiltersCampaign.pagination.entriesperpage" ng-show="campaign.entry_id">
                  <td class="t-check-box">
                    <div class="ui checkbox">
                      <input type="checkbox" name="select-user">
                      <label></label>
                    </div>
                  </td>
                  <td class="toggle-feature-icon" ng-if="!campaign.featured" ng-click="setFeatured(campaign, true)">
                    <div class="feat-icon">
                      <i class="blue empty star icon" title="Feature Campaign"></i>
                    </div>
                  </td>
                  <td class="toggle-feature-icon" ng-if="campaign.featured" ng-click="setFeatured(campaign, false)">
                    <div class="feat-icon">
                      <i class="blue star icon" title="Un-Feature Campaign"></i> <em ng-if="campaign.settings.featured_star_hide" translate>tab_campaign_campaign_featured_star_hidden</em>
                    </div>
                  </td>
                  <td> {{campaign.id}} </td>
                  <td class="campaign-name-popup">
                    <a title="{{campaign.name}}" ng-href="{{campaign.uri_paths[0].path}}" target="_blank">{{campaign.name}}</a>
                  </td>
                  <td class="t-campaign-name">
                    {{campaign.managers[0].first_name}} {{campaign.managers[0].last_name}}
                  </td>
                  <td ng-if="portal_settings.site_campaign_country_funding_step" class="t-campaign-name">
                    {{campaign.settings.country.name}}
                  </td>
                  <td id="col_date" ng-hide="isISODate">{{campaign.created | dateconv }}</td>
                  <td id="col_date" ng-show="isISODate">{{campaign.created | formatDate:"YYYY/MM/DD" }}</td>
                  <td class="">
                    <div ng-init="getTime(campaign)">{{campaign.timeStatNum}} {{campaign.timeStatText | translate}}</div>
                    <!-- <div am-time-ago="campaign.ends" ng-if="!campaign.hidden"></div> -->

                    <div class="ui label blue" ng-if="campaign.hidden" translate> tab_campaign_campaign_hidden </div>
                  </td>
                  <td class="action-column">
                    <div class="ui selection fluid dropdown action-dropdown">
                      {{'tab_campaign_campaign_select'| translate}}
                      <i class="dropdown icon"></i>
                      <div class="menu">
                        <div class="item" ng-click="editCampaign($event,campaign)"> {{'tab_campaign_campaign_edit'|translate}}</div>
                        <div class="item" ng-if="campaignManagerHasEndDate(campaign)" ng-click="openExtendCampaignModal(campaign)"> {{'tab_campaign_extend_campaign_date_button'|translate}} </div>
                        <div class="item" ng-if="campaign.entry_status_id == 10 || campaign.entry_status_id == 12" ng-click="reviewCampaign(campaign,$event)" translate> tab_campaign_campaign_review </div>
                      </div>
                    </div>
                  </td>
                  <td class="campaign-status-select">
                    <div class="ui selection fluid dropdown" ng-model="campaign.entry_status_id">
                      <input type="hidden" name="campaign_status">
                      <div class="default text">{{'campaign.entry_status'| translate}}</div>
                      <i class="dropdown icon"></i>
                      <div class="menu">
                        <div ng-click="updateCampaignStatus(campaign,status)" class="item" title="{{status.name}}" ng-repeat="status in campaignStatus" data-value="{{status.entry_status_id}}">{{status.name |translate}}</div>
                      </div>
                    </div>
                  </td>
                  <td class="details-column">
                    <div type="button" class="ui green button transaction_button" ng-click="showdetail(campaign.entry_id,campaign.name, campaign.entry_status, campaign.currencies, campaign.total_backers, campaign.backer_offset)" ng-class="{'disabled':campaign.funded_amount<=0}">{{'tab_campaign_transaction_detail'| translate}}</div>
                  </td>
                  <td>
                    <button class="ui icon red button add_manual_transaction" ng-hide='campaign.entry_status != "Approved / Running"' ng-click="addManual(campaign.entry_id, campaign.name, campaign.entry_status); setSelectedCampaign(campaign.entry_id)">
                      <i class="plus icon"></i>
                    </button>
                  </td>
                </tr>
                <!-- tr end -->
              </tbody>
              <!-- tbody end -->
            </table>
            <!-- admin-table end -->
          </div>
        </div>

        <div class="setting-guide">
          <div class="ui blue message">
            <div class="content">
              <div translate>tab_campaign_info_desc</div>
            </div>
          </div>
        </div>
        <div ng-include src="'views/templates/partials/no-data-available.html'" ng-show="campaigns.length==0"></div>
        <!-- ================= no data available message section -->
        <!-- Campaign list -->
        <h1 translate="">tab_campaign_all_title</h1>
        <table class="admin-table campaigns-table ui compact table">
          <thead ng-show="campaigns.length>0">
            <tr>
              <th>
                <div class="ui checkbox campaign-select-all" ng-click="checkall($event, '.campaigns-table .t-check-box')">
                  <input type="checkbox">
                  <label></label>
                </div>
              </th>
              <th translate>tab_campaign_campaign_feature </th>
              <th ng-click="changeOrderId()" id="hoverbtn">
                <div class="th-action th-action-filter">
                {{'tab_campaign_campaign_id'|translate}} <span ng-show="idshow"><span ng-hide="!orderbtnid"><i class="caret up  icon"></i></span><span ng-hide="orderbtnid"><i class="caret down  icon" ></i> </span></span>
                </div>
              </th>
              <th ng-click="changeOrderName()" id="hoverbtn">
                  <div class="th-action th-action-filter">
                {{'tab_campaign_campaign_name'|translate}} <span ng-show="nameshow"><span ng-hide="!namebtn"><i class="caret up  icon"></i></span><span ng-hide="namebtn"><i class="caret down  icon" ></i> </span></span>
                </div>
              </th>
              <th translate>tab_campaign_campaign_creator </th>
              <th ng-if="portal_settings.site_campaign_country_funding_step"> {{'tab_campaign_campaign_country'|translate}} </th>
              <th ng-click="changeOrderStart()" id="hoverbtn">
                  <div class="th-action th-action-filter">
                {{'tab_campaign_campaign_start_date'| translate}} <span ng-show="startshow"><span ng-hide="!orderbtn"><i class="caret up icon"></i></span><span ng-hide="orderbtn"><i class="caret down  icon" ></i> </span></span>
                </div>
              </th>
              <th ng-click="changeOrderEnd()" id="hoverbtn">
                <div class="th-action th-action-filter">
                {{'tab_campaign_campaign_end'|translate}} <span ng-show="endshow"><span ng-hide="!orderbtnend"><i class="caret up icon"></i></span><span ng-hide="orderbtnend"><i class="caret down  icon" ></i> </span> </span>
                </div>
              </th>
              <th class="action-column" translate> tab_campaign_campaign_action </th>
              <th class="status-column"> {{'tab_campaign_campaign_status'|translate}}</th>
              <th>
                <div class="th-action th-action-filter">
                <div class="ui checkbox order-by-priority" ng-click="sortByPriority()"><input type="checkbox"><label>{{'Order_by_Display_Priority' | translate }}</label></div>
                </div>
              </th>
              <th> {{'tab_campaign_campaign_manual_transaction'|translate}}</th>
            </tr>
            <!-- tr end -->
          </thead>
          <!-- thead end -->
          <tbody class="campaign-list campaign-sortable" ng-model="campaigns">
            <tr ng-repeat="campaign in campaigns | limitTo:sortOrFiltersCampaign.pagination.entriesperpage" class="campaign{{campaign.entry_id}}">
              <td class="t-check-box">
                <div class="ui checkbox">
                  <input type="checkbox" name="select-user">
                  <label></label>
                </div>
              </td>
              <td class="toggle-feature-icon" ng-if="!campaign.featured" ng-click="setFeatured(campaign, true)">
                <div class="feat-icon">
                  <i class="blue empty star icon" title="Feature Campaign"></i>
                </div>
              </td>
              <td class="toggle-feature-icon" ng-if="campaign.featured" ng-click="setFeatured(campaign, false)">
                <div class="feat-icon">
                  <i class="blue star icon" title="Un-Feature Campaign"></i> <em ng-if="campaign.settings.featured_star_hide" translate>tab_campaign_campaign_featured_star_hidden</em>
                </div>
              </td>
              <td class="t-campaign-id">
                <div>{{campaign.id}}</div>
              </td>
              <td class="t-campaign-name">
                <a title="{{campaign.name}}" ng-href="{{campaign.uri_paths[0].path}}" ng-if="campaign.name.length > 15" target="_blank">{{campaign.name | limitTo: 15}}..</a>
                <a title="{{campaign.name}}" ng-href="{{campaign.uri_paths[0].path}}" ng-if="campaign.name.length <= 15" target="_blank">{{campaign.name | limitTo: 15}}</a>
              </td>
              <td class="t-campaign-name">
                {{campaign.managers[0].first_name}} {{campaign.managers[0].last_name}}
              </td>
              <td ng-if="portal_settings.site_campaign_country_funding_step" class="t-campaign-name">
                {{campaign.settings.country.name}}
              </td>
              <td id="col_date" ng-hide="isISODate">{{campaign.created | dateconv }}</td>
              <td id="col_date" ng-show="isISODate">{{campaign.created | formatDate:"YYYY/MM/DD" }}</td>
              <td class="">

                <div ng-init="getTime(campaign)">{{campaign.timeStatNum}} {{campaign.timeStatText | translate}}</div>
                <!-- <div am-time-ago="campaign.ends" ng-if="!campaign.hidden"></div> -->

                <div class="ui label blue" ng-if="campaign.hidden" translate> tab_campaign_campaign_hidden </div>
              </td>
              <td class="action-column">
                <div class="ui selection fluid dropdown action-dropdown">
                  {{'tab_campaign_campaign_select'| translate}}
                  <i class="dropdown icon"></i>
                  <div class="menu">
                    <div class="item" ng-click="editCampaign($event,campaign)"> {{'tab_campaign_campaign_edit'|translate}} </div>
                    <div class="item" ng-if="campaignManagerHasEndDate(campaign)" ng-click="openExtendCampaignModal(campaign)"> {{'tab_campaign_extend_campaign_date_button'|translate}} </div>
                    <div class="item" ng-if="campaign.entry_status_id == 10 || campaign.entry_status_id == 12" ng-click="reviewCampaign(campaign,$event)" translate>tab_campaign_campaign_review </div>
                  </div>
                </div>
              </td>
              <td class="campaign-status-select">
                <div class="ui selection fluid dropdown" ng-model="campaign.entry_status_id">
                  <input type="hidden" name="campaign_status">
                  <div class="default text campaign-status" translate> tab_campaign_campaign_status</div>
                  <i class="dropdown icon"></i>
                  <div class="menu">
                    <div ng-click="updateCampaignStatus(campaign,status)" class="item" title="{{status.name}}" ng-repeat="status in campaignStatus" data-value="{{status.entry_status_id}}">{{status.name | translate}}</div>
                  </div>
                </div>
              </td>
              <td class="details-column">
                <div type="button" class="ui green button transaction_button" ng-click="showdetail(campaign.entry_id,campaign.name, campaign.entry_status, campaign.currencies)" ng-class="{'disabled':campaign.funded_amount<=0}">{{'tab_campaign_transaction_detail'| translate}}</div>
              </td>
              <td>
                <button class="ui icon red button add_manual_transaction" ng-hide='campaign.entry_status != "Approved / Running"' ng-click="addManual(campaign.entry_id, campaign.name, campaign.entry_status); setSelectedCampaign(campaign.entry_id)">
                  <i class="plus icon"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <div>
          <button type="button" ng-csv="campaigndata" filename="campaign.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export'|translate}}</button>
          <button type="button" ng-csv="createCampaignCSV()" lazy-load="true" filename="allcampaigns.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export_all'|translate}}</button>
          <button type="button" ng-csv="createCampaignCompleteCSV()" lazy-load="true" filename="allcampaignscomplete.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export_all_complete'|translate}}</button>
          <button type="button" ng-csv="createTransactionCompleteCSV()" lazy-load="true" filename="alltransactions.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export_page_transactions'|translate}}</button>

          <div id="searchbox">
            <label> {{'tab_campaign_items_perpage' | translate}} </label>&nbsp;
            <div class="ui selection dropdown" id="searchbtn">
              <input name="gender" type="hidden" ng-value="sortOrFiltersCampaign.page_entries">
              <div class="default text" id="resultValue"> 10 </div>
              <i class="dropdown icon"></i>
              <div class="menu">
                <div class="item" data-value="10" ng-click="customEntryPerPage(10)">10</div>
                <div class="item" data-value="50" ng-click="customEntryPerPage(50)">50</div>
                <div class="item" data-value="100" ng-click="customEntryPerPage(100)">100</div>
              </div>
            </div>
            <label class="per-page-label" translate>tab_campaign_results </label>
          </div>
        </div>
        <div class="ui center aligned basic segment pagination-block">
          <div semantic-pagination ng-model="sortOrFiltersCampaign.page" total-pages="sortOrFiltersCampaign.pagination.numpages" update-function="updateCampaignListing()"></div>
        </div>

      </div>
    </div>
    <!-- CAMPAIGN TABLE END -->
    <div class="ui page one column grid transaction-table" ng-if="details" ng-hide="showManualTransactionFromTrans">
      <div class="column">
        <div class="user-edit-header ">
          <div class="column">
            <div class="action-btn ui icon labeled black button" ng-click="goBackUser()">
              <i class="left angle icon"></i>
              <span translate>tab_campaign_back</span>
            </div>
            <div class="ui button red labeled" ng-click="deleteTransaction()">
              <span translate="tab_campaign_transaction_delete"></span>
            </div>
            <div class="backer-offset-button">
              <div class="ui button blue labeled" ng-click="updateBackerOffset()">
                <span translate>tab_campaign_backer_button</span>
              </div>
            </div>
          </div>
        </div>
        <h3 class="ui header"> {{'tab_campaign_transactiontext'|translate}} {{campaign_name}} </h3>
        <p>
          <div class="ui grid">
            <div class="three wide column">
              <i class="circular icon hide" data-content="Anonymous Contribution" data-variation="inverted"></i> {{'tab_campaign_transaction_details_anon' | translate}}
            </div>
            <div class="six wide column">
              <i class="circular icon unhide" data-content="Partial Anonymous Contribution" data-variation="inverted"></i> {{'tab_campaign_transaction_details_partially_anon' | translate}}
            </div>
          </div>
        </p>
        <div class="ui inverted divider"></div>

        <table class="ui basic small table transactions-table" ng-show="transaction_detail[0].id">
          <thead>
            <tr>
              <th>
                <div class="ui checkbox transaction-select-all" ng-click="checkall($event, '.transaction-table .t-check-box')">
                  <input type="checkbox">
                  <label></label>
                </div>
              </th>
              <th translate> tab_campaign_transaction_details_transaction_id</th>
              <th translate> tab_campaign_transaction_details_reward </th>
              <th translate> tab_campaign_transaction_details_amount </th>
              <th translate> tab_campaign_transaction_details_coupon </th>
              <th translate ng-if="tippingOptions.toggle"> tab_campaign_transaction_details_tip_amount </th>
              <th translate>tab_campaign_transaction_details_contributors</th>
              <th translate> tab_campaign_transaction_details_contributors_email</th>
              <th translate> tab_campaign_transaction_details_card_number</th>
              <th translate>tab_campaign_transaction_details_date</th>
              <th ng-show="payment_gateway==1"></th>
              <th ng-show="payment_gateway==1" translate> tab_campaign_transaction_details_status </th>
            </tr>
          </thead>
          <tbody class="transactions-table-body">
            <tr ng-repeat="trans in transaction_detail" ng-if="trans.backer.length">
              <td class="t-check-box">
                <div class="ui checkbox">
                  <input type="checkbox" name="select-user">
                  <label></label>
                </div>
              </td>
              <td ng-show="payment_gateway==1">{{trans.stripe_transaction_id}}</td>
              <td ng-show="payment_gateway==2">{{trans.widgetmakr_transaction_id}}</td>
              <td ng-show="payment_gateway==3">{{trans.paypal_transaction_id}}</td>
              <td>
                <i ng-if="trans.backer[0].anonymous_contribution" class="circular icon hide" data-content="Anonymous Contribution" data-variation="inverted"></i>
                <i ng-if="trans.backer[0].anonymous_contribution_partial" class="circular icon unhide" data-content="Anonymous Contribution" data-variation="inverted"></i>
                <span ng-if="trans.backer[0].pledge_level.length">
                  <span title="{{trans.backer[0].pledge_level[0].name}}">
                    {{(trans.backer[0].pledge_level[0].name).slice(0,30)}}</span>
                  <span ng-show="(trans.backer[0].pledge_level[0].name).length>30">&nbsp;...</span>
                </span>
                <span ng-hide="trans.backer[0].pledge_level.length" translate> tab_campaign_transaction_details_na</span>
              </td>

              <td class="contribute-amount-td">
                <div class="value-editable">
                  <span ng-bind-html="trans.backer[0].amount | formatCurrency:currency[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option" ng-if="!trans.editing"></span>
                  <div class="edit-button" ng-if="!trans.editing" ng-click="editTransaction(trans)">
                    {{'tab_campaign_edit_button' | translate}}
                  </div>
                </div>
                <div class="ui action input" ng-if="trans.editing">
                  <input type="text" ng-model="trans.backer[0].amount" />
                  <div class="ui green tiny icon button" ng-if="trans.editing" ng-click="editTransaction(trans)">
                    <i class="ui icon checkmark"></i>
                  </div>
                </div>
              </td>

              <td>
                <div ng-show = "trans.coupon && trans.coupon.length > 0">{{trans.coupon[0].code}}</div>
                <div ng-show = "!(trans.coupon && trans.coupon.length > 0)">-</div>
              </td>

              <td ng-if="tippingOptions.toggle" class="tipping-amount-td">
                <div class="value-editable">
                  <span ng-if="trans.backer[0].amount_tip && !trans.tipEditing" ng-bind-html="trans.backer[0].amount_tip | formatCurrency:currency[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span>
                  <span ng-if="!trans.backer[0].amount_tip && !trans.tipEditing" ng-bind-html="0 | formatCurrency:currency[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span>
                  <div class="edit-button" ng-if="!trans.tipEditing" ng-click="editTipTransaction(trans)">
                    {{'tab_campaign_edit_button' | translate}}
                  </div>
                </div>
                <div class="ui action input" ng-if="trans.tipEditing">
                  <input type="text" ng-model="trans.backer[0].amount_tip" />
                  <div class="ui green tiny icon button" ng-if="trans.tipEditing" ng-click="editTipTransaction(trans)">
                    <i class="ui icon checkmark"></i>
                  </div>
                </div>
              </td>

              <td>
                <span ng-if="trans.backer.length &&  trans.backer[0].person.length" title="{{trans.backer[0].person[0].first_name +''+ trans.backer[0].person[0].last_name}}">{{(trans.backer[0].person[0].first_name +" "+ trans.backer[0].person[0].last_name).slice(0,18)}} </span>
                <span ng-show="(trans.backer[0].person[0].first_name + trans.backer[0].person[0].last_name).length>18">&nbsp;...</span>

                <span ng-if="!trans.backer[0].person.length && trans.backer.length">{{'transaction_details_backer_deleted'| translate}}</span>
              </td>
              <td>
                <span title={{trans.backer[0].person[0].email}}>{{(trans.backer[0].person[0].email).slice(0,25)}}</span>
                <span ng-show="(trans.backer[0].person[0].email).length>25">&nbsp;...</span>
              </td>
              <td ng-show="trans.card[0]">**** **** **** {{trans.card[0].last4}}</td>
              <td ng-show="trans.reference_no"> {{trans.reference_no}} </td>
              <td ng-show="!trans.card[0] && !trans.reference_no" translate="tab_campaign_info_not_available"></td>

              <td id="col_date" ng-hide="isISODate">{{trans.created | dateconv }}</td>
              <td id="col_date" ng-show="isISODate">{{trans.created | formatDate:"YYYY/MM/DD" }}</td>
              <td ng-show="payment_gateway==1">
                <span class="ui small green button" id="addressbtn" ng-class="{'disabled':!trans.backer[0].person[0].person_shipping_address && !trans.backer[0].person[0].person_shipping_phone_number}" ng-click="showContact($index)" translate>tab_campaign_view_contact</span>
              </td>
              <td class="status-col" ng-show="payment_gateway==1" ng-class="{'error':trans.stripe_transaction_status_id==4, 'warning':trans.backer[0].disabled,'positive':trans.stripe_transaction_status_id==3}">
                <span title="{{trans.stripe_transaction_status}}" ng-show="!trans.backer[0].disabled && trans.card[0].last4" translate>{{(trans.stripe_transaction_status).slice(0,31)}}</span><span ng-show="(trans.stripe_transaction_status).length>31 && !trans.backer[0].disabled">&nbsp;...</span>
                <span ng-show="trans.backer[0].disabled">{{'tab_campaign_details_withdrawn' | translate }}</span>
                <span ng-show="!trans.card[0].last4 && !trans.backer[0].disabled" translate>tab_campaign_Manual_Transaction</span>
              </td>
            </tr>
          </tbody>
        </table>
        <button type="button" ng-csv="createTransactionCSV(cindex)" lazy-load="true" filename="transactionDetail.csv" add-bom="true" class="ui green button" id="csvbtn">{{'tab_campaign_details_export'|translate}}</button>
        <button type="button" class="ui green button" id="csvbtn" ng-show="approvedCamp" ng-click="addManual()">{{'tab_campaign_details_add_manual'|translate}}</button>
      </div>
      <div class="center aligned column">
        <div semantic-pagination ng-model="transaction_pagination.page" total-pages="transaction_pagination.numpages" update-function="getTransactions(cindex)"></div>
      </div>
    </div>
  </div>
  <div id="campaign-revisions-table-wrap" class="ui page grid" ng-if="enableCampaignRevisions && isCampaignRevisionsView">
    <div class="column">
      <div class="campaign-revisions-header">
        <h1 class="ui header section-title" translate>tab_campaign_revision_header_title</h1>
        <div class="campaign-revisions-table-actions">
          <button class="ui tiny button" ng-if="campaignRevisions.length > 0" translate ng-click="deleteAllRevisions()">tab_campaign_clear_all_revisions</button>
          <button class="ui tiny button" ng-if="selectedRevisions.length > 0" ng-click="deleteSelectedRevision()" translate>tab_campaign_delete_selected_revisions</button>
        </div>
      </div>
      <table id="campaign-revisions-table" class="ui compact table" ng-if="campaignRevisions.length > 0">
        <thead>
          <tr>
            <th></th>
            <th translate>tab_campaign_revision_th_campaign_id</th>
            <th translate>tab_campaign_revision_th_campaign_name</th>
            <th translate>tab_campaign_revision_th_campaign_creator</th>
            <th translate>tab_campaign_revision_th_campaign_created</th>
            <th translate>tab_campaign_revision_th_campaign_modified</th>
            <th></th>
          </tr>
          <!-- tr end -->
        </thead>
        <!-- thead end -->
        <tbody>
          <tr ng-repeat="revision in campaignRevisions">
            <td>
              <div class="ui checkbox revision-select" ng-click="selectRevisionItem($event, revision)">
                <input type="checkbox">
                <label></label>
              </div>
            </td>
            <td>{{revision.entry_id}}</td>
            <td>{{revision.name}}</td>
            <td>{{revision.manager_first_name}} {{revision.manager_last_name}}</td>
            <td>{{revision.created | formatDate:"MMMM DD, YYYY"}}</td>
            <td>{{revision.modified | formatDate:"MMMM DD, YYYY h:mm A"}}</td>
            <td class="td-action"><a ng-href="{{'getstarted/'+ revision.entry_id + '/?revision_id=' + revision.entry_revision_id}}" class="ui tiny basic button" type="button" translate>tab_campaign_revision_td_campaign_edit</a></td>
          </tr>
        </tbody>
      </table>
      <div class="ui warning message" ng-if="campaignRevisions.length <= 0 " translate>tab_campaign_no_revisions</div>
    </div>
  </div>
  <!-- TOGGLE OFF REVISION END -->


  <div ng-include src="'views/templates/partials/admin-dashboard/manual-transaction.html'" ng-show="showManualTransactionFromCamp || showManualTransactionFromTrans"></div>

  <!-- Modals =================================================================================== -->
<!-- Extend campaign modal -->
<div class="ui small modal extend-campaign-modal">
  <i class="close icon"></i>
  <div class="header">
    <h3 class="ui header" translate="tab_campaign_extend_campaign_title"></h3>
  </div>
  <div class="content">
    <div class="ui input grid">
      <div class="sixteen wide column start-date" id="start-date-field" >
          <label> {{'get_started_funding_startdate'|translate}} ({{extendingCampaign.timezone_abbrev}})</label>
          <quick-datepicker ng-class="{'startdate-selected' : extendingCampaign.starts_date_time}" ng-model="extendingCampaign.starts_date_time" disable-clear-button="true" date-format='EEEE, MMMM d, yyyy' placeholder="{{get_started_funding_startdate_placeholder}}" ></quick-datepicker>
          <div class="disabled-overlay" ></div>
      </div>

      <div class="eight wide column">
        <label> {{'get_started_funding_numberdays' | translate}}</label>
        <input class="ui ten wide column" type="text" name="runtime_days" ng-attr-placeholder="{{'get_started_funding_numberdays_placeholder' | translate}}" ng-model="extendingCampaign.runtime_days" ng-attr-value="extendingCampaign.runtime_days" 365-only onkeydown="if (event.keyCode == 13) return false;"
          ng-disabled="enableCampaignRevisions && extendingCampaign.entry_status_id == 2  && user.person_type_id !== 1">

        <div>{{numberOfDays}}</div>
      </div>
      <div class="eight wide column">
        <label translate>get_started_duration_Type </label>
        <div class="ui fluid selection dropdown profile-type" ng-class="{'disabled' : enableCampaignRevisions && extendingCampaign.entry_status_id == 2 && user.person_type_id == 2}">
          <div class="text" id="duration_dtext"> {{'get_started_selectone'|translate}}</div>
          <i class="dropdown icon"></i>
          <input type="hidden" name="profile-type" value="{{extendingCampaign.duration_type_id}}">
          <div class="menu">
            <div ng-repeat="type in duration_type" data-value="{{type.id}}" ng-click="durationTypeSelected(type.id)" class="item">{{type.type | translate}}</div>
          </div>
        </div>
      </div>

      <div class="sixteen wide column end-date" id="end-date-field">
        <label> {{'get_started_funding_enddate' |translate}} ({{extendingCampaign.timezone_abbrev}})</label>

        <quick-datepicker ng-class="{'enddate-selected' : extendingCampaign.ends_date_time}" ng-model="extendingCampaign.ends_date_time" disable-clear-button="true" date-format='EEEE, MMMM d, yyyy' date-filter="noPastDates" placeholder="{{get_started_funding_enddate_placeholder}}"
          read-only="true" ng-click="check();" disable-timepicker="{{enableCampaignRevisions && extendingCampaign.entry_status_id == 2 && user.person_type_id == 2}}"></quick-datepicker>

        <div class="disabled-overlay" ng-show="enableCampaignRevisions && extendingCampaign.entry_status_id == 2 && user.person_type_id == 2"></div>
      </div>
    </div>

  </div>
  <!-- CONTENT END -->
  <div class="actions">
  </div>
</div>
<!-- End of extend campaign modal -->

  <div class="ui small test modal">
    <i class="close icon"></i>
    <div class="header" translate>tab_campaign_transaction_details_shipping_contact</div>
    <div class="content" id="content-address">
      <div ng-show="shippingAdress">
        <div ng-if="!alt_shipping">
          <div>
            <h4 id="backername"></h4>
          </div>
          <div id="street"></div>
          <div id="main_address"></div>
          <div id="country_name"></div>
        </div>
        <div ng-if="alt_shipping">
          <div>
            <h4 id="backername"></h4>
          </div>
          <div id="country_name"></div>
          <div><span translate="tab_campaign_details_Postal_Code_symbol"></span><span id="postcode"></span></div>
          <div id="main_address"></div>
          <div id="street"></div>
        </div>
        <br />
      </div>
      <div ng-show="shippingPhoneNumber">{{shippingPhoneNumber}} | {{shippingPhoneType | translate}}</div>

    </div>
  </div>

  <div class="ui small modal delete-multi-items-modal">
    <i class="close icon"></i>
    <div class="header">
      <h3 class="ui header" translate> tab_campaign_deletecampaign </h3>
    </div>
    <div class="content">
      <p translate> tab_campaign_deletecampaign_message </p>
    </div>
    <!-- CONTENT END -->
    <div class="actions">
      <div class="ui green approve button" translate>
        tab_campaign_deletecampaign_ok
      </div>
      <div class="ui negative button" translate>
        tab_campaign_deletecampaign_cancel
      </div>
    </div>
  </div>
  <div class="ui small modal backer-offset-modal">
    <i class="close icon"></i>
    <div class="header">
      <h3 class="ui header" translate>tab_campaign_backer_field_header</h3>
    </div>
    <div class="content">
      <div class="ui left labeled input">
        <div class="ui dropdown label" translate>tab_campaign_backer_field_label</div>
        <input type="text" ng-model="backer_offset" />
      </div>
    </div>
    <!-- CONTENT END -->
    <div class="actions">
      <div class="ui green approve button" translate>
        tab_campaign_backer_update
      </div>
      <div class="ui negative button" translate>
        tab_campaign_deletecampaign_cancel
      </div>
    </div>
  </div>
  <!-- MODAL END -->

</div>