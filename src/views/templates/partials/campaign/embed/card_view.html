<div class="embed-column ui column">
	<a class="ui fluid card embed-campaign-card" ng-href="{{'/' + campaign.uri_paths[0].path}}" target="_top" ng-if="campaign">
		<div class="image">
			<div ng-show="campaign.featured" class="ui right corner blue label"><i class="star icon"></i></div>
			<img ng-repeat="file in campaign.files | filter:{region_id: RESOURCE_REGIONS.campaign.thumbnail} | orderBy:'-file_id' | limitTo: 1" ng-if="campaign.files[0].path_external" ng-src="{{server + '/image/campaign_home/' + file.path_external}}" class="ui image"/>
			<img ng-if="!campaign.files[0].path_external" src="images/placeholder-images/placeholder_home_campaign_thumb.png" class="ui image"/>
		</div> <!-- IMAGE -->
		<div class="campaign-desc content">
			<div class="campaign-title header name">
				{{campaign.name | limitTo: 50}}
				<span ng-if="campaign.name.length > 50">...</span>
			</div>
			<div class="campaign-creator ui ribbon label" ng-hide="public_settings.site_campaign_hide_creator_info">
				<span ng-show="(campaign.profile_type_id ==1 || !(campaign.profile_type_id == 2 && campaign.business_organizations != null))">{{'explore_search_by' | translate}}&nbsp;{{campaign.managers[0].first_name + " " + campaign.managers[0].last_name | limitTo : 20}}
					<span ng-if="(campaign.managers[0].first_name.length + campaign.managers[0].last_name.length) > 20">...</span>
				</span>
				<span ng-show="(campaign.profile_type_id == 2 && campaign.business_organizations != null)">{{'explore_search_by' | translate}}&nbsp;{{campaign.business_organizations[0].name}}</span>
			</div>
			<div ng-init="getTimeZoneAbbr(campaign)" class="campaign-created meta" ng-show="campaign.campaign_started=='f' && campaign.ever_published">
				<span ng-hide="isISODate">
					{{'Starts_on'|translate}}&nbsp;{{campaign.starts_date_time | formatDate:"MMM DD YYYY"}} {{'index_at' | translate}} {{campaign.starts_date_time | formatDate:"h:mm A"}} {{campaign.timezoneText}}
				</span>
				<span ng-show="isISODate">
					{{'Starts_on'|translate}}&nbsp;{{campaign.starts_date_time | formatDate:"YYYY/MM/DD"}} {{campaign.starts_date_time | formatDate:"H:mm"}}
				</span>
			</div>
			<div class="campaign-created meta" ng-show="campaign.campaign_started=='t' && campaign.ever_published">
				<span ng-if="dateInPast(campaign.ends,campaign.seconds_remaining)" style="float:left;" translate="index_closed"></span>
				<span ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && (campaign.days_remaining_inclusive *-1) > 1 "> {{(campaign.days_remaining_inclusive *-1)}} {{"days ago" | translate}} </span>
				<span  ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && (campaign.days_remaining_inclusive *-1) == 01 "> {{(campaign.days_remaining_inclusive *-1)}} {{"day ago" | translate}} </span>

				<span  ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive  > 1 "> {{campaign.days_remaining_inclusive }} {{"days to go" | translate}} </span>
				<span  ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive  == 01 "> {{campaign.days_remaining_inclusive}} {{"day to go" | translate}} </span>

				<span  ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive  == 0 && (campaign.hours_remaining_inclusive *-1) > 1"> {{(campaign.hours_remaining_inclusive *-1)}} {{"hour ago" | translate}} </span>
				<span  ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive  ==0 && (campaign.hours_remaining_inclusive *-1) == 1 "> {{(campaign.hours_remaining_inclusive *-1)}} {{"hour ago" | translate}} </span>

				<span  ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive ==00 && campaign.hours_remaining_inclusive  > 1 "> {{campaign.hours_remaining_inclusive }} {{"hours to go" | translate}} </span>
				<span  ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive  ==0 && campaign.hours_remaining_inclusive  == 01 "> {{campaign.hours_remaining_inclusive}} {{"hour to go" | translate}} </span>

				<span  ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining  == 0 && campaign.hours_remaining ==0  && (campaign.minutes_remaining_inclusive *-1) > 1"> {{(campaign.minutes_remaining_inclusive *-1)}} {{"minutes ago" | translate}} </span>
				<span  ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining  ==0 &&campaign.hours_remaining ==0  && (campaign.minutes_remaining_inclusive*-1) == 1 "> {{(campaign.minutes_remaining_inclusive *-1)}} {{"minute ago" | translate}} </span>

				<span  ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive ==00 && campaign.hours_remaining_inclusive ==0  && campaign.minutes_remaining_inclusive > 1 "> {{campaign.minutes_remaining_inclusive}} {{"minutes to go" | translate}} </span>
				<span  ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive  ==00 && campaign.hours_remaining_inclusive == 0  && campaign.minutes_remaining_inclusive   == 01 "> {{campaign.minutes_remaining_inclusive}} {{"minute to go" | translate}} </span>
				<span ng-show="campaign.ends_date_time==null" class="item f-duration" translate>{{'Continuous_Campaign'}}</span>
			</div>
			<div class="description">{{campaign.blurb | limitTo:150}} <span ng-if="campaign.blurb.length > 150">...</span></div>
			<div class="campaign-card-footer">
				<div class="campaign-stats">
					<div class="bar-progress ui indicating progress" data-percent="{{temp = campaign.funded_amount / (campaign.funding_goal || 1) * 100; temp >= 100 ? 100 : temp < 1 ? 0 : temp}}">
						<div class="bar"></div>
					</div>
					<div class="card-amount-meta">
						<div class="pledged-amount">
							<span ng-bind-html="campaign.funded_amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span>
							<span ng-bind="campaign.currencies[0].code_iso4217_alpha"></span>
							<span translate> explore_pledged  </span>
						</div>
						<div class="funded-amount">
							<span>{{campaign.funded_amount / (campaign.funding_goal || 1) * 100 | number: 0}}%</span>
							<span translate> explore_funded  </span>
						</div>
					</div>
				</div>
			</div>
			<div class="campaign-location">
				<i ng-if="campaign.cities" class="map marker icon"></i><span ng-repeat="city in campaign.cities | limitTo:1">{{city.city_full}}</span>
			</div>
		</div>
	</a> <!-- card end -->
</div>
