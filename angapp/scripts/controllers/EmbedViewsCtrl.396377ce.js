app.controller("EmbedViewsCtrl",["$scope","$rootScope","$routeParams","Restangular","RESOURCE_REGIONS","$translate","$translatePartialLoader","PortalSettingsService",function($scope,$rootScope,$routeParams,Restangular,RESOURCE_REGIONS,$translate,$translatePartialLoader,PortalSettingsService){$translatePartialLoader.addPart("explore"),$translate.refresh(),$scope.RESOURCE_REGIONS=RESOURCE_REGIONS,$rootScope.nav_disabled=!0,$rootScope.footer_disabled=!0;var campaign_id=$routeParams.campaign_id;PortalSettingsService.getSettingsObj().then((function(success){$scope.public_settings=success.public_setting,$scope.isISODate=success.public_setting.site_theme_campaign_display_iso_date})),Restangular.one("campaign").customGET(campaign_id,{use_path_lookup:$routeParams.privatepath?1:0,path:$routeParams.privatepath?$routeParams.privatepath.substring(1):null}).then((function(success){$scope.campaign=success.plain(),$scope.$emit("loading_finished")})),$scope.getTimeZoneAbbr=function(campaign){"f"==campaign.campaign_started&&(campaign.timezoneText=moment().tz(campaign.timezone).zoneAbbr())},$scope.dateInPast=function(value,sec){return 0==sec||"00"==sec||sec<0}}]);