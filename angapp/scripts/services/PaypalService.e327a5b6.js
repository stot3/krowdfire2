app.service("PaypalService",["$q","PortalSettingsService",function($q,PortalSettingsService){var pp={isInitialized:function(){return"undefined"!=typeof paypal},init:function(campaign){return $q((function(resolve,reject){pp.isInitialized()?resolve(!0):PortalSettingsService.getSettingsObj().then((function(settings){if(3==settings.public_setting.site_payment_gateway&&settings.public_setting.paypal_publishable_key){var currency="USD";settings.public_setting.site_campaign_fee_currency.length>0&&(currency=settings.public_setting.site_campaign_fee_currency[0].code_iso4217_alpha),campaign.currencies.length>0&&(currency=campaign.currencies[0].code_iso4217_alpha);var node=document.createElement("script");node.src="https://www.paypal.com/sdk/js?client-id="+settings.public_setting.paypal_publishable_key+"&intent=capture&components=buttons&disable-funding=credit&currency="+currency,node.type="text/javascript",node.async=!0,node.onload=function(){resolve(!0)},node.onerror=function(){reject(!1)},node.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(node)}}))}))}};return pp}]);