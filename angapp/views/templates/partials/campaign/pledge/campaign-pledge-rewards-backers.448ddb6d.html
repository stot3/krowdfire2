<div class="funding-wrap" ng-cloak><div class="ui horizontal divider campaign-divider desktop-only" ng-show="campaign.pledges && public_settings.site_theme_campaign_min_button_show && campaign.entry_status_id !== 3" translate="campaign_pledge_campaign_contribute_option_or"></div><div ng-if="note.pledges" class="ui label notes-label">{{'campaign_review_notes'|translate}} <i class="delete icon" ng-click="removeNote('pledges')" ng-if="note.pledges"></i></div><div class="notes" ng-class="{'has-note ui basic segment' : note.pledges}" ng-click="addNotes('campaign_review_rewards_note_title', 'pledges')"><ul id="rewards-list" ng-show="campaign.pledges" class="rewards" ng-class="{'display_reward_tab_mob' : displayRewardsMobileTab}" ng-if="!public_settings.site_campaign_comments_display_replace_reward"><h3 class="ui inverted top attached header center aligned" id="campaign-rewards" translate>campaign_pledge_campaign_reward</h3><div ng-repeat="pledge in campaign.pledges_to_show track by $index | orderBy:'amount'" id="rewards-section"><div class="pledge-level" ng-if="enableRewardVariation" ng-class="{'ended': dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || campaign.campaign_started=='f'|| (thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised), 'sold-out': pledge.total_pledges == pledge.item_limit, 'reward-var-enabled' : enableRewardVariation, 'sold-out': rewardExpired(pledge.expires), 'past-threshold': (thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised)}"><li class="bonus-1"><div class="ui basic segment"><div class="ui basic dimmable dimmed segment reward-bg-wrap"><div class="ui inverted simple dimmer" ng-if="pledge.total_pledges == pledge.item_limit  || rewardExpired(pledge.expires)"><div class="content"><div class="center"><h2 class="ui icon header" translate><i class="emphasized frown icon"></i> campaign_pledge_campaign_reward_soldout</h2></div></div></div><div class="ui inverted simple dimmer" ng-if="thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised"><div class="content"><div class="center"><h2 class="ui icon header" translate><i class="emphasized frown icon"></i> campaign_pledge_campaign_reward_past_threshold</h2></div></div></div><div class="reward-amount"><span ng-bind-html="pledge.amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span> <span class="currency">{{campaign.currencies[0].code_iso4217_alpha}}</span> <span style="font-size:16px" ng-show="pledge.shipping">{{'campaign_pledge_campaign_reward_shippingtext' | translate}}</span></div><h4 class="ui header">{{pledge.name}}</h4><p class="reward-desc fr-view" ng-hide="reward_html_editor" html-render html="pledge.description"></p><div ng-show="reward_html_editor" html-render html="pledge.description" class="reward-desc fr-view"></div><div id="{{'reward-variation-' + $index}}" class="reward-variation"><div class="reward-variation-item" ng-repeat="variation in pledge.attributes.variation"><label>{{variation.name}}</label><div class="ui fluid selection dropdown" id="dropdown-{{variation.name}}"><input type="hidden" name="variation_value"> <i class="dropdown icon"></i><div class="default text">{{variation.name}}</div><div class="menu"><div class="item" data-value="{{$index}}" ng-click="selectRewardAttribute($event, choiceItem, $parent.$parent.$index)" ng-repeat="choiceItem in variation.choice track by $index">{{choiceItem.value}} {{preselectRewardAttributes()}}</div></div></div></div></div><div class="bottom"><div class="reward-backers" ng-if="pledge.total_backers>0"><i class="users icon"></i> <span class="backer-number">{{pledge.total_backers}} </span><span>{{'campaign_pledge_campaign_reward_backer' | translate}}<span ng-if="pledge.total_backers>1">{{'plural_letter' | translate}}</span></span></div><div class="reward-backers" ng-if="pledge.total_backers == 0"><i class="users basic icon"></i>{{'campaign_pledge_campaign_nobacker' | translate}}</div><div class="limit" ng-if="pledge.item_limit != null">{{'campaign_pledge_campaign_reward_limited' | translate}} {{pledge.item_limit - pledge.total_pledges}} {{'campaign_pledge_campaign_reward_limited_leftoff' | translate}} {{pledge.item_limit}}</div><div class="reward-etd" ng-if="pledge.estimated_delivery_time">{{'campaign_pledge_campaign_reward_estimated_shiping' | translate}} <span class="f-delivery-date">{{pledge.estimated_delivery_time | formatDate:"MMM D, YYYY"}}</span></div></div><button class="choose-reward-btn ui large fluid button" ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || pledge.total_pledges == pledge.item_limit || (thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised) || campaign.campaign_started=='f' || submitPledge($event, pledge, $index)"><span ng-show="!customText.toggle" translate>campaign_page_choose_reward_text</span> <span ng-show="customText.toggle">{{pledge.rewardCustom}}</span></button></div></div></li></div><div class="pledge-level" ng-if="!enableRewardVariation" ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || pledge.total_pledges == pledge.item_limit || (thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised) || campaign.campaign_started=='f' || submitPledge($event, pledge, $index)" ng-class="{'ended': dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || campaign.campaign_started=='f', 'sold-out': pledge.total_pledges == pledge.item_limit, 'sold-out': rewardExpired(pledge.expires), 'past-threshold': (thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised)}"><li class="bonus-1"><div class="ui basic segment"><div class="ui basic dimmable dimmed segment reward-bg-wrap"><div class="ui inverted simple dimmer" ng-if="pledge.total_pledges == pledge.item_limit || rewardExpired(pledge.expires)"><div class="content"><div class="center"><h2 class="ui icon header" translate><i class="emphasized frown icon"></i> campaign_pledge_campaign_reward_soldout</h2></div></div></div><div class="ui inverted simple dimmer" ng-if="thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised"><div class="content"><div class="center"><h2 class="ui icon header" translate><i class="emphasized frown icon"></i> campaign_pledge_campaign_reward_past_threshold</h2></div></div></div><div class="reward-amount"><span ng-bind-html="pledge.amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span> <span class="currency">{{campaign.currencies[0].code_iso4217_alpha}}</span> <span style="font-size:16px" ng-show="pledge.shipping">{{'campaign_pledge_campaign_reward_shippingtext' | translate}}</span></div><h4 class="ui header">{{pledge.name}}</h4><p class="reward-desc fr-view" ng-hide="reward_html_editor" html-render html="pledge.description"></p><div ng-show="reward_html_editor" html-render html="pledge.description" class="reward-desc fr-view"></div><div class="bottom"><div class="reward-backers" ng-if="pledge.total_backers>0"><i class="users icon"></i> <span class="backer-number">{{pledge.total_backers}} </span><span>{{'campaign_pledge_campaign_reward_backer' | translate}}<span ng-if="pledge.total_backers>1">{{'plural_letter' | translate}}</span></span></div><div class="reward-backers" ng-if="pledge.total_backers == 0"><i class="users basic icon"></i>{{'campaign_pledge_campaign_nobacker' | translate}}</div><div class="limit" ng-if="pledge.item_limit != null">{{'campaign_pledge_campaign_reward_limited' | translate}} {{pledge.item_limit - pledge.total_pledges}} {{'campaign_pledge_campaign_reward_limited_leftoff' | translate}} {{pledge.item_limit}}</div><div class="reward-etd" ng-if="pledge.estimated_delivery_time">{{'campaign_pledge_campaign_reward_estimated_shiping' | translate}} <span class="f-delivery-date">{{pledge.estimated_delivery_time | formatDate:"MMM D, YYYY"}}</span></div></div><button class="choose-reward-btn no-attrs ui large fluid button" ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || pledge.total_pledges == pledge.item_limit || (thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised) || campaign.campaign_started=='f' || submitPledge($event, pledge, $index)"><span ng-show="!customText.toggle" translate>campaign_page_choose_reward_text</span> <span ng-show="customText.toggle">{{pledge.rewardCustom}}</span></button></div></div></li></div></div><div class="reward-pagination"><div semantic-pagination ng-model="rewardPagination.page" items-per-page-nav="3" total-pages="rewardPagination.pagination.numpages" update-function="filterRewards()" pagination-name="rewards"></div></div></ul></div><ul class="rewards" ng-if="public_settings.site_campaign_comments_display_replace_reward"><div ng-if="comment_system =='custom'" class="left-col ten wide column"><div class="ui comments"><h3 class="ui dividing header" translate>custom_comment_header</h3><div data-ng-cloak><div class="ui selection dropdown"><input type="hidden" name="gender"><div class="text" translate>custom_comment_sort_order_descend</div><i class="dropdown icon"></i><div class="menu"><div class="item" ng-click="getComments(_,'created')" data-value="created" translate>custom_comment_sort_order_ascend</div><div class="item active selected" ng-click="getComments(_,'-created')" data-value="-created" translate>custom_comment_sort_order_descend</div></div></div><div class="item" data-ng-repeat="comment in comments track by $index"><div class="comment" ng-style="comments_background_style"><a class="avatar" ng-href="/profile/{{comment.comment_person[0].id}}" ng-if="comments_show_comment_picture && comment.comment_person[0].id != null"><img ng-if="comment.comment_person[0].person_files[0].path_external" ng-src="{{server +'/image/campaign_profile/'+ comment.comment_person[0].person_files[0].path_external}}"> <img ng-if="!comment.comment_person[0].person_files[0].path_external" ng-src="images/placeholder-images/placeholder_profile_photo.png"></a><div class="avatar" ng-if="comment.comment_person[0].id == null"><img ng-src="images/placeholder-images/placeholder_profile_photo.png"></div><div class="content"><a class="author" ng-style="comments_font_color" ng-show="comment.comment_person[0].id != null" ng-href="/profile/{{comment.comment_person[0].id}}">{{comment.comment_person[0].first_name}} {{comment.comment_person[0].last_name}}</a> <span class="author" ng-style="comments_font_color" ng-show="comment.comment_person[0].id == null" translate="custom_comment_anonymous_user"></span><div class="metadata"><span class="date" ng-if="!public_settings.site_campaign_comments_display_verbose_date" ng-style="comments_font_color">{{'custom_comment_time' | translate}} {{comment.created | formatDate:"MMM D, YYYY h:mm A"}}</span> <span class="date" ng-if="public_settings.site_campaign_comments_display_verbose_date" ng-style="comments_font_color">{{'custom_comment_commented_text' | translate}} {{comment.timeNumber}}{{comment.timePeriod | translate}}</span></div><div class="text subject" ng-style="comments_font_color" ng-if="comment.title">{{comment.title}}</div><div class="text" ng-style="comments_font_color">{{comment.message}}</div><div class="actions"><span ng-if="comment.person_id != user.person_id"><a class="upvote ui label" ng-class="{'active': comment.logged_in_person_has_voted_up == 't'}" ng-click="commentAction('upvote',comment.comment_id)"><i class="chevron up icon"></i>{{comment.total_votes_up}}</a> <a class="downvote ui label" ng-class="{'active': comment.logged_in_person_has_voted_down == 't'}" ng-click="commentAction('downvote',comment.comment_id)"><i class="chevron down icon"></i>{{comment.total_votes_down}}</a> <a class="reply ui label" ng-if="user.person_id" ng-click="commentAction('reply',comment.comment_person[0].first_name+' '+comment.comment_person[0].last_name)"><i class="reply icon"></i>{{'custom_comment_reply_button' | translate}}</a> </span><span ng-if="comment.person_id == user.person_id || user.person_type_id == 1"><a ng-if="comment.person_id == user.person_id" class="upvote ui label"><i class="chevron up icon"></i>{{comment.total_votes_up}}</a> <a ng-if="comment.person_id == user.person_id" class="downvote ui label"><i class="chevron down icon"></i>{{comment.total_votes_down}}</a> <a class="delete ui label" ng-click="openModalById('delete-comment',comment.comment_id)" translate>custom_comment_delete_button</a> <a class="update ui label" ng-click="openModalById('update-comment',comment.comment_id)" translate>custom_comment_update_button</a></span></div></div></div></div></div><div class="ui basic segment center aligned" style="margin-top:3rem"><div semantic-pagination ng-model="sortOrFiltersComments.page" total-pages="sortOrFiltersComments.pagination.numpages" update-function="getComments()"></div></div><div class="ui warning message" ng-show="!comments.length" translate>custom_comment_no_comment_message</div><div class="ui warning message" ng-if="!user.person_id" translate>custom_comment_login_message</div><form class="ui form comment-form" validate ng-model="comment_form" ng-if="user.person_id"><div class="ui divider"></div><h2 class="ui header" translate>custom_comment_form_header</h2><div class="field"><label translate>custom_comment_form_subject</label><input type="text" name="comment_title" ng-model="comment_form.comment_title"></div><div class="field"><label translate>custom_comment_form_comment</label><textarea class="custom_comment_message" name="comment_message" ng-model="comment_form.message" required></textarea></div><div class="field"><div class="ui blue labeled submit button" ng-click="addComment(comment_form);" translate>custom_comment_form_submit</div><div class="ui checkbox" ng-model="comment_form.anonymous" ng-if="is_anonymous_available && !public_settings.custom_comment_anonymous_force"><input type="checkbox" name="anonymous"><label translate="custom_comment_anonymous_message"></label></div></div></form></div><div class="ui modal" id="vote-anonymous"><i class="close icon"></i><div class="content" translate="custom_comment_vote_anonymous_content"></div><div class="actions"><div class="ui green button" ng-click="setUpVote(true)" translate="custom_comment_vote_anonymous_action"></div><div class="ui blue button" ng-click="setUpVote(false)" translate="custom_comment_vote_not_anonymous_action"></div></div></div><div class="ui modal" id="update-comment"><i class="close icon"></i><div class="header"><h3 class="ui header" translate>custom_comment_update_form_header</h3></div><div class="content"><div class="fluid ui form"><div class="field"><label translate>custom_comment_update_form_subject</label><input type="text" ng-model="old_comment[0].title" placeholder="Subject" required></div><div class="field"><label translate>custom_comment_update_form_comment</label><textarea placeholder="Comment Text" ng-model="old_comment[0].message" required></textarea></div></div></div><div class="actions"><div class="ui green button" ng-click="updateComment(old_comment[0])" translate>custom_comment_update_form_submit</div></div></div><div class="ui small modal" id="delete-comment"><i class="close icon"></i><div class="header"><h3 class="ui header" translate>custom_comment_delete_form_header</h3></div><div class="content" translate>custom_comment_delete_form_message</div><div class="actions"><div class="ui green button" ng-click="deleteComment(current_selected_comment_id)" translate>custom_comment_delete_form_submit</div></div></div></div><div id="insert_disqus" ng-if="comment_system =='disqus'"></div><div class="insert-fb-comments" ng-if="comment_system == 'facebook'"><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s);
          js.id = id;
          js.src =
            "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.9";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script><div class="fb-comments" data-href="{{currentAbsUrl}}" data-numposts="5"></div></div></ul><div id="backer-list" ng-class="{'move-backers':moveBackersBelowCreatorAccordionMobile}" class="campaign-info addborder ui accordion" ng-Accord ng-if="isBackersOnSidebar"><h3 class="sidebar-heading ui inverted block header active title"><span class="pagebackers">{{' campaign_page_backers' | translate}}</span> <span class="count-label ui label">{{backer_length}}</span> <i class="collapse-indicator icon"></i></h3><div class="backer-content active content"><div class="ui warning message" ng-show="backer_length==0" translate>campaign_page_nobackers</div><div ng-repeat="backer in campaign.backers" class="campaign-backerbox" ng-class="{'no-profile-link' : isHideBackerProfileLink || backer.anonymous_contribution || backer.anonymous_contribution_partial}" ng-click="visitProfile(backer, $event)"><div class="campaign-backer ui segment"><div class="campaign-backer-top ui two column stackable grid"><div class="left-col" ng-class="{'ten wide column': !public_settings.site_campaign_page_simplify_backer, 'sixteen wide column': public_settings.site_campaign_page_simplify_backer}"><div class="linkdiv header backer-user" id="linkdiv"><img class="ui avatar image" ng-src="{{server + '/image/campaign_profile/'+backer.person_files[0].path_external}}" ng-if="backer.person_files"> <img src="images/placeholder-images/placeholder_profile_photo.png" class="ui avatar image pp_placeholder" ng-if="!backer.person_files"> <span>{{backer.first_name}} {{backer.last_name}}<h3 ng-if="public_settings.site_campaign_page_simplify_backer" class="backed-amount simplify_backer ui header" ng-bind-html="backer.total_amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></h3></span><span ng-if="backer.anonymous_contribution" translate>campaign_page_anonymous_backer</span></div></div><div class="right-col six wide column" ng-if="!public_settings.site_campaign_page_simplify_backer"><h3 class="backed-amount ui header" ng-bind-html="backer.total_amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></h3></div></div><div class="backed-campaigns" ng-if="backer.total_backed<2 && !isHideBackedCampaignsAmount"><i class="certificate icon"></i>{{'campaign_page_backed' | translate}} {{backer.total_backed}} {{'campaign_page_backed_campaign' | translate}}</div><div class="backed-campaigns" ng-if="backer.total_backed>1 && !isHideBackedCampaignsAmount"><i class="certificate icon"></i>{{'campaign_page_backed' | translate}} {{backer.total_backed}} {{'campaign_page_backed_campaigns' | translate}}</div><div class="ui message" ng-repeat="pledge in backer.notes" ng-if="pledge.note"><small>{{pledge.created | formatDate:"MMM D, YYYY"}}</small><p>{{pledge.note}}</p></div></div></div><div class="semantic-pagination" semantic-pagination ng-model="backers_pagination.page" total-pages="backers_pagination.numpages" update-function="getBackers()"></div></div></div></div>