var angles=angular.module("angles",[]);angles.chart=function(a){return{restrict:"A",scope:{data:"=",options:"=",id:"@",width:"=",height:"=",resize:"=",chart:"@",segments:"@",responsive:"=",tooltip:"=",legend:"="},link:function(d,c){var b=c[0].getContext("2d");var e=false;d.size=function(){if(d.width<=0){c.width(c.parent().width());b.canvas.width=c.width()}else{b.canvas.width=d.width||b.canvas.width;e=true}if(d.height<=0){c.height(c.parent().height());b.canvas.height=b.canvas.width/2}else{b.canvas.height=d.height||b.canvas.height;e=true}};d.$watch("data",function(i,h){if(f){f.destroy()}d.options=d.options||{};if(!i){return}if(d.chart){a=d.chart}if(e){d.size();g=new Chart(b)}if(d.responsive||d.resize){d.options.responsive=true}if(d.responsive!==undefined){d.options.responsive=d.responsive}f=g[a](d.data,d.options);f.update();if(d.legend){angular.element(c[0]).parent().after(f.generateLegend())}},true);d.$watch("tooltip",function(i,h){if(f){f.draw()}if(i===undefined||!f.segments){return}if(!isFinite(i)||i>=f.segments.length||i<0){return}var j=f.segments[i];j.save();j.fillColor=j.highlightColor;f.showTooltip([j]);j.restore()},true);d.size();var g=new Chart(b);var f}}};angles.directive("chart",function(){return angles.chart()});angles.directive("linechart",function(){return angles.chart("Line")});angles.directive("barchart",function(){return angles.chart("Bar")});angles.directive("radarchart",function(){return angles.chart("Radar")});angles.directive("polarchart",function(){return angles.chart("PolarArea")});angles.directive("piechart",function(){return angles.chart("Pie")});angles.directive("doughnutchart",function(){return angles.chart("Doughnut")});angles.directive("donutchart",function(){return angles.chart("Doughnut")});